@{
    Layout = "~/Views/Shared/_ReportLayout.cshtml";
}

@using TietoCRM.Models;
@using System.Globalization;

@if (ViewBag.ValidDate)
{
    CultureInfo se = CultureInfo.CreateSpecificCulture("sv-SE");

    <style>

        td:nth-child(1){
            width: 5em !important;
        }
        td:nth-child(2){
            width: 5em !important;
        }
         td:nth-child(3){
            width: 30em !important;
        }
    </style>
    <div class="crm-print-block">
        <table class="table table-striped table-bordered cpr-table">
            <th width="17%;" style="white-space:nowrap">Contract id</th>
            <th width="15%;" style="white-space:nowrap">Customer</th>
            <th width="15%;" style="white-space:nowrap">Module</th>
            <th width="4%;" style="white-space:nowrap">Art nr</th>
            <th width="8%;" style="white-space:nowrap">License</th>
            <th width="8%;" style="white-space:nowrap">Maintenance</th>
            <th width="5%;" style="white-space:nowrap">Rewr</th>
            <th width="5%;" style="white-space:nowrap">New</th>
            <th width="5%;" style="white-space:nowrap">Rem</th>

            @foreach (view_ContractRow cr in ViewBag.ReturnRows)
            {
                <tr class="">
                    <td>@cr.Contract_id</td>
                    <td>@cr.Customer</td>
                    <td>@cr.Alias</td>
                    <td>@cr.Article_number</td>
                    <td>@String.Format(se, "{0:C2}", @cr.License).Replace(".", " ")</td>
                    <td>@String.Format(se, "{0:C2}", @cr.Maintenance).Replace(".", " ")</td>
                    
                    @if (cr.Rewritten.Value)
                    {
                        <td>Yes</td>
                    }
                    else
                    {
                        <td>No</td>
                    }
                    @if (cr.New.Value)
                    {
                        <td>Yes</td>
                    }
                    else
                    {
                        <td>No</td>
                    }
                    @if (cr.Removed.Value)
                    {
                        <td>Yes</td>
                    }
                    else
                    {
                        <td>No</td>
                    }
                </tr>
            }

        </table>
</div>

}
else
{
    < h1 > Invalid dates.</ h1 >
}
